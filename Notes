Download the raspberry pi OS on the sd card. 
Connect the raspberry pi camera to the Pi and change the Pi preferences using the CMD: sudo raspi-config
  - Enable legacy support of camera
  - Enable I2C and SPI (just in csae). 
  - Enable VNC if you plan to remote in to the camera
  - Restart the pi
 Check if the camera is working using the following :
  - raspistill -o test.jpg (The camera shows preview for 5 seconds before turnning off)
  if there are any errors please try the following:
    - vcgencmd get_camera
      - The output from this must be "supported=1 detected=1", if not then there could be camera hardware issues. 
    if you see "supported=1 detected=1" and the camera still doesn't work please try the following:
      - Go to the /boot/config.txt file and add "start_debug=1" at the end of file.
        - type: sudo vcdbg log assert
        - if the error is something like this" vcdbg_ctx_get_dump_stack: dump_stack failed" it means there is some other resource using the camera. 
          - Try changing the GPU memory to 256MB and see if it helps, check all processes (ps -aux).
          - Make sure i2c is enabled in raspi-config
          - Last resort is to reinstall the OS , that's what helped me. 
    
    - Some other camera debug comands:
      - vcgencmd version
      - uname -a
      - dmesg
  
Once the camera works, install pycharm.

Upon pycharm installation, run it. There could be a java error. Run the following commands to get over the java error :
  - sudo apt update
  - sudo apt install default-jdk

Now setup pycharm to use venv python 3.x that came. 
use the scripts from my "home_atutomation" folder to test the picam, PIR sensor and other things. 

In order to save the videos on the network, conenct a storage to the router/ network to make ti work like NAS. 
  Make sure to format the disk using the following commands in linux:
  - df
  - sudo umount /dev/sda1
  - sudo mkfs.ntfs /dev/sda1
  Access this folder from windows using \\IP\folder_name and see if you can access. 
  Make sure to password protect the folder just in case. 
***********************************************************************************************************************************
Setting up access to NAS on the raspberry pi
          ***********************
Once the NAS is created on windows use IP/folder_name to acc it, on mac it is the same. You can type the address in browser as well. 
In order to set network on the raspberry pi, open a folder, go to top and click on "go" and then click on "network". 
Now check if the network is visible. if it is not visible then do the following:
-: sudo apt install nmap
-: nmap -sn 0.0.0.0(IP) 
-: sudo apt install samba samba-common
In order to set network on the raspberry pi, open a folder, go to top and click on "go" and then click on "network". 
Now check if the network is visible with this: smb://0.0.0.0/folder_name

************************************************************************************************************************************
Since raspberry can only access mounted partitions on the machine so doing os.chdir("192.0.0.0") won't work. 
The preocess to map the network drive to a drive letter (E:\, Z:\) etc is different for windows and linux. 
On windows it can be done easily by right clicking "my computer" -> map network drive-> follow instructions. 
Then the assigned letter can be used in python to access the network drive.  But this is not the case with linux (raspberry pi). 

On raspberry pi do the following to mount a drive locally:
sudo apt install smbclient
sudo apt-get install cifs-utils
sudo mount -t smb://0.0.0.0/folder_name
add this line to fstab file in etc folder: //0.0.0.0/nas /home/pi/xyzzz/local_folder_to_be_mapped_to_network cifs username=xyz password=xyz 0 0

type this in cmd prompt: sudo mount -t cifs -o username=xyz,vers=2.0 //0.0.0.0/network_folder_name /home/pi/xyzz/local_folder_to_be_mapped_to_network
The above command will map the network drive to the local machine (pi). 
Now the pi has permission issues in order to write to the network mapped local folder. Figuring out that part now. 



Next steps: 
- save the video on network drive instead of local drive
- Look for an open source android app to show live feed. pushover is one of them but i need to check it. 

